

<div *ngIf="user; else login">
    <div class="container justify-content-center">
      <div class="row justify-content-center mt-3">
        <div class="col text-center text-light">
          <h1>Surveys</h1>
          <hr>
        </div>
      </div>

      <div *ngFor="let roomSurvey of roomSurveySet"  class="row justify-content-center">
        <div *ngFor="let survey of roomSurvey.surveySet" class="card col-3 m-4" style="width: 18rem;">
          <div  class="card-body">
            <h6 class="card-subtitle mb-2 text-muted">{{ roomSurvey.room.created | date:'short' }}</h6>
            <h5 class="card-title text-center">{{ roomSurvey.room.game.name }}: {{ survey.playerTemplate.playerUsername }}</h5>
            <hr>
            
            <div class="card-text">
              <div *ngFor="let skill of survey.skills" class="row">
                <div class="col-7">{{ skill.skill.name }}</div>
                <button class="btn col-2 mr-1 mb-1" (click)="submitSurvey(roomSurvey.room.roomId, survey.playerTemplate, skill.skill, 1)">
                  <span style="color:green"><fa-icon [icon]="faThumbsUp"></fa-icon></span>
                </button>
                <button class="btn col-2 mb-1" (click)="submitSurvey(roomSurvey.room.roomId, survey.playerTemplate, skill.skill, -1)">
                  <span style="color:red"><fa-icon [icon]="faThumbsDown"></fa-icon></span>
                </button>
              </div>

            </div>
          </div>
        </div>
        <br/>
      </div>
    </div>
</div>

<ng-template #login>
  <div class="container text-light text-center">
    <div class="row justify-content-center">
      <div class="alert alert-info mt-3 col-5">You are not logged in.</div>
    </div>
  </div>
  <app-login></app-login>
</ng-template>